<style>
  #sidebar {
    width: 210px;
    background: linear-gradient(180deg, #007bff, #0056b3);
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    padding: 1.3rem 1rem;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    box-shadow: 3px 0 10px rgba(0,0,0,0.15);
    z-index: 1000;
    transform: translateX(0);
    transition: transform 0.3s ease;
  }

  #sidebar nav a {
    display: flex;
    align-items: center;
    color: #e3f2fd;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.96rem;
    margin-bottom: 1rem;
    padding: 0.6rem 1rem;
    border-radius: 6px;
    transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
  }

  #sidebar nav a i {
    margin-right: 10px;
    font-size: 1.15rem;
    width: 20px;
    text-align: center;
  }

  #sidebar nav a:hover,
  #sidebar nav a:focus {
    background-color: rgba(255, 255, 255, 0.15);
    color: #fff;
    box-shadow: 0 0 5px #fff3;
  }

  #sidebar nav a.active {
    background-color: #ffc107;
    color: #000;
    font-weight: 700;
    box-shadow: 0 0 8px rgba(255, 193, 7, 0.6);
  }

  #sidebar hr {
    border: none;
    border-top: 1px solid rgba(255, 255, 255, 0.25);
    margin: 1.2rem 0;
  }

  /* Sidebar hidden on mobile */
  #sidebar.collapsed,
  #sidebar:not(.show) {
    transform: translateX(-100%);
  }

  /* Overlay for mobile */
  #sidebarOverlay {
    display: none;
  }

  @media (max-width: 768px) {
    #sidebar {
      position: fixed;
      top: 0;
      height: 100vh;
    }

    #sidebar.show {
      transform: translateX(0);
    }

    #sidebarOverlay.active {
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: rgba(0, 0, 0, 0.4);
      z-index: 900;
    }
  }

  /* Toggle Button */
  #btnToggleSidebar {
    display: none;
    position: fixed;
    top: 15px;
    left: 15px;
    z-index: 1100;
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 12px;
    border-radius: 6px;
    font-size: 18px;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.25);
  }

  #btnToggleSidebar i {
    pointer-events: none;
  }

  @media (max-width: 768px) {
    #btnToggleSidebar {
      display: block;
    }
  }
</style>

<!-- Toggle Button -->
<button id="btnToggleSidebar" title="Fungua Menu">
  <i class="fas fa-bars"></i>
</button>

<!-- Sidebar -->
<div id="sidebar">
  <nav>
    <a href="school-dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashibodi</a>
    <a href="register-students.html"><i class="fas fa-user-plus"></i> Sajili Wanafunzi</a>
    <a href="register-classes.html"><i class="fas fa-layer-group"></i> Sajili Madarasa</a>
    <a href="register-subjects.html"><i class="fas fa-book"></i> Sajili Masomo</a>
    <a href="enter-results.html"><i class="fas fa-pen"></i> Jaza Matokeo</a>
    <hr>
    <a href="subject-results.html"><i class="fas fa-chart-bar"></i> Matokeo ya Somo</a>
    <a href="average-subjects.html"><i class="fas fa-percent"></i> Wastani wa Masomo</a>
    <a href="students-report.html"><i class="fas fa-file-alt"></i> Ripoti ya Mwanafunzi</a>
  </nav>
</div>

<!-- Overlay -->
<div id="sidebarOverlay"></div>

<script>
  // Weka active link
  const currentPage = window.location.pathname.split("/").pop();
  document.querySelectorAll("#sidebar nav a").forEach(link => {
    if (link.getAttribute("href") === currentPage) {
      link.classList.add("active");
    }

    // Funga sidebar baada ya kubofya link (kwenye simu)
    link.addEventListener("click", () => {
      if (window.innerWidth <= 768) {
        document.getElementById("sidebar").classList.remove("show");
        document.getElementById("sidebarOverlay").classList.remove("active");
      }
    });
  });

  // Toggle logic
  const toggleBtn = document.getElementById("btnToggleSidebar");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("sidebarOverlay");

  toggleBtn.addEventListener("click", () => {
    sidebar.classList.toggle("show");
    overlay.classList.toggle("active");
  });

  overlay.addEventListener("click", () => {
    sidebar.classList.remove("show");
    overlay.classList.remove("active");
  });
</script>
